

<mat-toolbar color="primary">
  <mat-toolbar-row>
    <span class="title-center">{{dialogData.action}} Patient </span>
  </mat-toolbar-row>
</mat-toolbar>

<mat-dialog-content>
<form [formGroup]="patientForm" >
  <div fxFlex fxLayout="column">
    <mat-form-field appearance="fill"  fxFlex >
    <mat-label>Reference</mat-label>
      <input matInput  [value]="reference" readonly >
    </mat-form-field>
    <mat-form-field appearance="fill"  fxFlex >
      <mat-label>Nom</mat-label>
      <input matInput formControlName="pat_nom" required>
      <mat-error *ngIf="patientForm.controls.pat_nom.touched && patientForm.controls.pat_nom.invalid">
        <span *ngIf="patientForm.controls.pat_nom.errors.required" >This field is mandatory</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill"  fxFlex >
      <mat-label>Prenom</mat-label>
      <input matInput formControlName="pat_prenom" required>
      <mat-error *ngIf="patientForm.controls.pat_prenom.touched && patientForm.controls.pat_prenom.invalid">
        <span *ngIf="patientForm.controls.pat_prenom.errors.required" >This field is mandatory</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill"  fxFlex >
      <mat-label>Email</mat-label>
      <input matInput formControlName="pat_email"  required>
      <mat-error *ngIf="patientForm.controls.pat_email.touched && patientForm.controls.pat_email.invalid">
        <span *ngIf="patientForm.controls.pat_email.errors.required" >This field is mandatory</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill"  fxFlex >
      <mat-label>Adresse</mat-label>
      <input matInput formControlName="pat_adresse">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-form-field">
      <mat-label>Date de naissance</mat-label>
      <input matInput formControlName="pat_dateNaissance" [matDatepicker]="datepicker">
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matIconSuffix [for]="datepicker"></mat-datepicker-toggle>
      <mat-datepicker #datepicker>
        <mat-datepicker-actions>
          <button mat-button matDatepickerCancel>Annuler</button>
          <button mat-raised-button color="primary" matDatepickerApply>Choisir</button>
        </mat-datepicker-actions>
      </mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill"  fxFlex >
      <mat-label>Telephone</mat-label>
      <input matInput formControlName="pat_telephone"  required>
      <mat-error *ngIf="patientForm.controls.pat_telephone.touched && patientForm.controls.pat_telephone.invalid">
        <span *ngIf="patientForm.controls.pat_telephone.errors.required" >This field is mandatory</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill"  fxFlex >
      <mat-label>Telephone 2</mat-label>
      <input matInput formControlName="pat_telephone2">
    </mat-form-field>

  </div>
</form>
</mat-dialog-content>

<mat-dialog-actions align="center">
<button mat-raised-button class="btn" type="submit"
(click)="handlePatientSubmit()" [disabled]="!(patientForm.dirty && patientForm.valid)" >{{action}}</button>
<button mat-raised-button class="btn" mat-dialog-close>Fermer</button>
</mat-dialog-actions>
